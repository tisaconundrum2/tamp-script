NS.jQuery(function(){function k(){NS.jQuery("#_searchSubmitter").click()}var q="",c=0,f=0,a=NS.jQuery("#_searchstring"),e=null,g=NS.jQuery('\x3cul id\x3d"uir-global-search-container" role\x3d"listbox"\x3e\x3cli\x3e\x3c/li\x3e\x3cli\x3e\x3c/li\x3e\x3cli\x3e\x3c/li\x3e\x3c/ul\x3e').css("min-width",a.outerWidth()),m={},x=!1;if(a.data("search-suggest")){NS.jQuery(document).click(function(b){null!=e&&(0<NS.jQuery("#uir-global-search-container").has(b.target).length||a.get(0)==b.target||n())});a.mouseup(function(b){var d=
NS.jQuery(b.target);(b.offsetX||b.pageX-d.offset().left)>a.width()&&k()});a.keyup(function(b){b=this.value;3>b.length&&!x&&n();x=!1;3>b.length||null==b?(q="",clearTimeout(f)):b!=q&&(clearTimeout(f),q=b,null==e&&u(),m.hasOwnProperty(b)?r(m[b]):(e.isLoaderVisible()||e.showLoader(),f=setTimeout(y,NS.UI.Constants.GLOBALSEARCH_DELAY)))});var t=function(){var b=p.getItem().find(".uir-item-edit");0<b.length&&b.get(0).click()},v=function(){var b=p.getItem().find(".uir-item-dash");0<b.length&&b.get(0).click()},
y=function(){var b=a.val(),d=(c++).toString(),h="/app/common/autosuggest.nl?cur_val\x3d"+encodeURIComponent(b)+"\x26";d=NS.jQuery.param({circid:d,mapkey:"uberautosuggest"});NS.jQuery.ajax({url:h+d,type:"GET",dataType:"json",success:function(d){d=d.autofill;d.searchTerm=b;m[b]=d;a.val()==b&&r(d)},error:function(d){a.val()==b&&n()}})},z=function(){e&&e.getTooltipDiv()&&(g.css("min-width",a.outerWidth()),NS.jQuery(e.getTooltipDiv()).css({left:a.offset().left,top:40}))};NS.jQuery(window).on("uirWindowResized",
z);var n=function(){a.removeAttr("aria-activedescendant");a.attr("aria-haspopup","false");null!=e&&(e.close(),e=null)},r=function(b){u();var a=[];if(null==b||0==b.length)a.push(NS.jQuery("\x3cli/\x3e",{class:"uir-global-search-item"}).append(NS.jQuery("\x3ca/\x3e",{class:"uir-item-view",id:"noResultsFound",role:"option",text:NS.Translations.dictionary["NLHeadingContext.NO_RESULTS_FOUND"]||"No results found"})));else{for(var h=0;h<b.length&&h<NS.UI.Constants.GLOBALSEARCH_MAX_ITEMS;h++)a.push(B(b[h]));
b.length>=NS.UI.Constants.GLOBALSEARCH_MAX_ITEMS&&a.push(A(b.searchTerm))}g.html(a);g.find("li").mouseenter(function(){p.setIndex(NS.jQuery(this).index())});e.reattachField();p.resetIndex();e.hideLoader()},B=function(b){var a=b.bedit&&"T"==b.bedit,h=!!b.dashurl,c=b.descr+":"+b.sname,e=NS.jQuery("\x3cli/\x3e",{class:h?"uir-global-search-dashboard-item":"uir-global-search-item"});e.append(NS.jQuery("\x3ca/\x3e",{role:"option",class:"uir-item-view",href:b.key,id:b.key,text:b.descr+": "}).append(NS.jQuery("\x3cspan/\x3e").text(b.sname)));
a&&e.append(NS.jQuery("\x3ca/\x3e",{class:"uir-item-edit",href:b.key+"\x26e\x3dT",id:"edit_"+b.key,"aria-label":"Edit "+c,text:"Edit"}));h&&e.append(NS.jQuery("\x3ca/\x3e",{class:"uir-item-dash",href:b.dashurl,id:"dash_"+b.key,"aria-label":"Dashboard "+c,text:"Dash"}));return e},A=function(b){b="/app/common/search/ubersearchresults.nl?Uber_NAME\x3d"+encodeURIComponent(b)+"\x26"+NS.jQuery.param({quicksearch:"T",searchtype:"Uber",frame:"be",Uber_NAMEtype:"KEYWORDSTARTSWITH"});return NS.jQuery("\x3cli\x3e").append(NS.jQuery("\x3ca\x3e",
{id:"showMoreItems",class:"uir-item-view uir-global-search-more",href:b,text:NS.Translations.dictionary["NLButtonContext.SHOW_MORE_RESULTS"]||"Show more results"}))},u=function(){a.attr("aria-haspopup","true");if(null==e){e=new uir_fieldTooltip(a,g,{alignment:NS.UI.Constants.TOOLTIP_ALIGN.TOP_LEFT,persistent:!0});var b=NS.jQuery(e.getTooltipDiv());b.css({top:"",left:"",textAlign:"left",border:"none"});b.appendTo(a.parent());e.attachField=function(b){NS.jQuery(b).addClass("uir-field-active")};z()}},
p={_index:-1,resetIndex:function(){this._index=-1},getItem:function(){var b=g.find("li").get(this._index);return b&&-1!=this._index?NS.jQuery(b):null},getIndex:function(){return this._index},setIndex:function(b){var a=g.find("li");this._index=b=Math.max(-1,Math.min(a.length-1,b));0<=b&&this.getItem().toggleClass("ns-active",!0);a.not(function(a){return a==b}).toggleClass("ns-active",!1)},moveUp:function(){this.setIndex(this.getIndex()-1)},moveDown:function(){this.setIndex(this.getIndex()+1)}};a.keydown(function(b){switch(b.keyCode){case NS.UI.Constants.KeyCode.ARROW_DOWN:p.moveDown();
var d=NS.jQuery("#uir-global-search-container .ns-active");d.length&&this.setAttribute("aria-activedescendant",NS.jQuery(".uir-item-view",d[0])[0].getAttribute("id"));null==e&&(q="",a.keyup());NS.jQuery(".uir-global-search-item-active-suboption").removeClass("uir-global-search-item-active-suboption");NS.UI.Helpers.preventDefault(b);break;case NS.UI.Constants.KeyCode.ARROW_UP:p.moveUp();d=NS.jQuery(".uir-global-search-item.ns-active, .uir-global-search-dashboard-item.ns-active");d.length?this.setAttribute("aria-activedescendant",
NS.jQuery(".uir-item-view",d).attr("id")):this.removeAttribute("aria-activedescendant");NS.jQuery(".uir-global-search-item-active-suboption").removeClass("uir-global-search-item-active-suboption");NS.UI.Helpers.preventDefault(b);break;case NS.UI.Constants.KeyCode.ARROW_RIGHT:d=NS.jQuery(".uir-global-search-item.ns-active, .uir-global-search-dashboard-item.ns-active");var c=this.getAttribute("aria-activedescendant");if(d.length&&c){var l="";var w=c.slice(0,4);d=NS.jQuery(".uir-global-search-item.ns-active, .uir-global-search-dashboard-item.ns-active");
var f=NS.jQuery(".uir-item-edit",d[0]);d=NS.jQuery(".uir-item-dash",d[0]);"edit"!==w&&"dash"!==w&&f.length?(l="edit_"+c,f.toggleClass("uir-global-search-item-active-suboption",!0)):"edit"===w&&d.length&&(l="dash_"+c.slice(5,c.length),f.toggleClass("uir-global-search-item-active-suboption",!1),d.toggleClass("uir-global-search-item-active-suboption",!0));l&&this.setAttribute("aria-activedescendant",l);NS.UI.Helpers.preventDefault(b)}break;case NS.UI.Constants.KeyCode.ARROW_LEFT:d=NS.jQuery(".uir-global-search-item.ns-active, .uir-global-search-dashboard-item.ns-active");
c=this.getAttribute("aria-activedescendant");d.length&&c&&(l="",w=c.slice(0,4),d=NS.jQuery(".uir-global-search-item.ns-active, .uir-global-search-dashboard-item.ns-active"),f=NS.jQuery(".uir-item-edit",d[0]),d=NS.jQuery(".uir-item-dash",d[0]),"edit"===w?(l=c.slice(5,c.length),f.toggleClass("uir-global-search-item-active-suboption",!1)):"dash"===w&&d&&(l="edit_"+c.slice(5,c.length),d.toggleClass("uir-global-search-item-active-suboption",!1),f.toggleClass("uir-global-search-item-active-suboption",!0)),
l&&this.setAttribute("aria-activedescendant",l),NS.UI.Helpers.preventDefault(b));break;case NS.UI.Constants.KeyCode.ENTER:if(p.getItem()&&e)f=this.getAttribute("aria-activedescendant").slice(0,4),"edit"===f?t():"dash"===f?v():b.ctrlKey?b.shiftKey?v():t():p.getItem().find(".uir-item-view").get(0).click();else if(2>this.value.length)n(),null==e&&u(),g.html('\x3cli class\x3d"uir-global-search-item"\x3e\x3ca class\x3d"uir-item-view" id\x3d"searchTooShort" role\x3d"alert"\x3e'+(NS.Translations.dictionary["NLAlertContext.PLEASE_ENTER_AT_LEAST_TWO_CHARACTERS_FOR_BEST_SEARCH_RESULTS"]||
"Please enter at least two characters.")+"\x3c/a\x3e\x3c/li\x3e"),x=!0;else return NS.UI.Helpers.preventDefault(b),setTimeout(k,0),!1;NS.UI.Helpers.preventDefault(b);break;case NS.UI.Constants.KeyCode.ESCAPE:n()}})}else a.keydown(function(b){switch(b.keyCode){case NS.UI.Constants.KeyCode.TAB:case NS.UI.Constants.KeyCode.ENTER:return NS.UI.Helpers.preventDefault(b),setTimeout(k,0),!1}})});NS.jQuery(function(){function k(a){a.find(".ns-header").each(function(){var a=NS.jQuery(this),c=a.children("a");a=a.find(".ns-menu\x3e.ns-menuitem:first\x3ea");a.length&&c.attr("aria-label",NS.jQuery.trim(a.text()))})}function q(a){function e(){var b=0<m.children("li").length;n.toggleClass("overflown",b);n.css("padding-right",(b?k.outerWidth():0)+q+"px")}function f(){var b=n.outerWidth()-parseInt(n.css("padding-right"));if(!(0>=b)){var a=function(){return c("#ns_navigation \x3e .ns-menu:not(.ns-menu-overflow) \x3e .ns-menuitem")},
h=function(){return a().filter(function(){return this.offsetLeft+this.offsetWidth>b})}();if(0<h.length)h.each(function(){this.originalParent=this.parentElement;this.originalWidth=this.offsetWidth;this.classList.remove(NS.Menu.CLASS.MENU_HEADER);this.originalMenuController=this.menuController;t.refreshItem(this);this.parent=k.children("li").get(0)}),m.prepend(h),e(),setTimeout(f,0);else if(h=m.children("li"),0<h.length){var l=a().last();l=b-(l.offset().left+l.outerWidth());if(!(0==h.length||l<h[0].originalWidth)){for(var g=
0;0<l&&g<h.length;)l-=h[g].originalWidth,0<l&&g++;From(h.slice(0,g)).ForEach(function(){NS.jQuery(this).addClass("ns-header").appendTo(this.originalParent);this.originalMenuController.refreshItem(this)});e()}}}}var g=NS.Translations.dictionary["NLButtonContext.MORE_MENUS"]||"More menus",n=c("#ns_navigation"),k=c('\x3cul class\x3d"ns-menu ns-menu-overflow"\x3e\x3cli class\x3d"ns-menuitem ns-header ns-submenu"\x3e\x3ca href\x3d"#" title\x3d"'+g+'"\x3e\x26hellip;\x3c/a\x3e\x3cul class\x3d"ns-menu"\x3e\x3c/ul\x3e\x3c/li\x3e\x3c/ul\x3e').appendTo("#ns_navigation"),
m=c(".ns-menu-overflow \x3e li \x3e ul.ns-menu"),t=(new uir_virtualMenu(k,{alignment:"right",absolutePosition:!0},a)).create(),q=parseInt(n.css("padding-right"));setTimeout(f,0);NS.jQuery(document).on("nsSelect",function(){setTimeout(f,0)});var p=null;c(window).resize(function(){p||(p=setTimeout(function(){p=null;NS.jQuery(window).trigger({type:"uirWindowResized",message:"Window has been resized"});f()},50))})}var c=NS.jQuery;c.ajaxSetup({cache:!1});var f=c("#div__header");NS.jQuery(window).scroll(function(){var a=
getWindowPageYOffset();a&&!f.hasClass("ns-shadow")?f.addClass("ns-shadow"):!a&&f.hasClass("ns-shadow")&&f.removeClass("ns-shadow")});f.addClass("noprint");NS.Translations=NS.Translations||{};NS.Translations.dictionary=NS.Translations.dictionary||{};NS.Menu=NS.Menu||{};NS.Menu.menus={};NS.Menu.allMenus=[];var a=NS.jQuery(".ns-user");if(0<a.length){var e=a.outerHeight()+(a.offset().top-getWindowPageYOffset());NS.Menu.menus.roles=(new uir_menu(a,{upperBound:e,alignment:"right",absolutePosition:!0})).create()}a=
NS.jQuery("#ns-header-quick-menu");0<a.length&&(e=a.height(),NS.Menu.menus.create=(new uir_menu(a,{upperBound:e,alignment:"right",absolutePosition:!0})).create());var g=NS.jQuery("#ns_navigation");if(0<g.length){var m=NS.jQuery("#ns_header").height()+g.height();c.getJSON("/app/center/NLNavMenuData.nl").done(function(a){var c=g.find("\x3e .ns-menu.uir-menu-main");0<c.length&&(c=(new uir_virtualMenu(c,{upperBound:m,absolutePosition:!0},a)).create(),NS.Menu.menus.main=c,NS.Menu.allMenus.push(c));q(a)});
a=g.find("\x3e .ns-menu.uir-menu-home");0<a.length&&(NS.Menu.menus.home=0==a.length?null:(new uir_menu(a,{upperBound:m,absolutePosition:!0})).create(),k(a));a=g.find("\x3e .ns-menu.uir-menu-recent");0<a.length&&(NS.Menu.menus.recent=0==a.length?null:(new uir_menu(a,{upperBound:m,absolutePosition:!0})).create(),a=NS.jQuery(NS.Menu.menus.recent.rootElement).find("li.ns-menuseparator+li.ns-menuitem").children("a"),a.attr("href")&&(e=NS.jQuery("#recent-records-menu-item"),e.attr("href",a.attr("href")),
e.attr("aria-label",NS.jQuery.trim(a.text()))));a=g.find("\x3e .ns-menu.uir-menu-shortcuts");0<a.length&&(NS.Menu.menus.shortcuts=0==a.length?null:(new uir_menu(a,{upperBound:m,absolutePosition:!0})).create(),k(a))}NS.Menu.enableAll=function(){From(NS.Menu.allMenus).ForEach("$.enable()")};NS.Menu.disableAll=function(){From(NS.Menu.allMenus).ForEach("$.disable()")};NS.Menu.refreshAll=function(){From(NS.Menu.allMenus).ForEach("$.create()")};for(var x in NS.Menu.menus)NS.Menu.allMenus.push(NS.Menu.menus[x])});NS.jQuery(function(){function k(a){return NS.Translations.dictionary&&NS.Translations.dictionary[a]?NS.Translations.dictionary[a]:a}function q(a){function e(a){if("keypress"!==a.type||13===a.which)a=c(this),b.removeClass("ns-feedback__selected-rating"),a.addClass("ns-feedback__selected-rating"),u=a.data("rating"),r.prop("disabled",!1),r.addClass("pgBntB"),r.removeClass("pgBntGDis"),r.focus()}function g(){d&&(d.remove(),h.remove())}if(!a||"keypress"!==a.type||13===a.which){var m=f.data("config");a=
c("\x3cdiv class\x3d'ns-feedback__popup-content'\x3e\x3c/div\x3e");var q=c("\x3cdiv class\x3d'ns-feedback__close-icon'\x3e\x3c/div\x3e");q.append(c("\x3cimg/\x3e",{src:"/analytics-ui/images/cross.svg",width:24,height:24}));var t=c("\x3ch3/\x3e",{class:"ns-feedback__title",text:k("NLPagemessageContext.PLEASE_RATE_YOUR_EXPERIENCE")}),v=c("\x3cdiv class\x3d'ns-feedback__ratings'\x3e\x3c/div\x3e");v.append(function(a){var b=[];a.forEach(function(a){var d=c('\x3cdiv tabindex\x3d"0" class\x3d"ns-feedback__rating-button"\x3e\x3c/div\x3e');
d.data("rating",a.id);d.append(c("\x3cimg src\x3d'/ui/webcore/images/rating-"+a.id+".svg' /\x3e"),c("\x3clabel class\x3d'ns-feedback__rating-label'\x3e"+a.text+"\x3c/label\x3e"));b.push(d)});return b}(m.ratingOptions));var y=c("\x3cdiv class\x3d'ns-feedback__details'\x3e\x3c/div\x3e"),z=c("\x3ctextarea/\x3e",{class:"ns-feedback__text",maxlength:1E3,cols:60,rows:4});y.append(c("\x3cp/\x3e",{text:k("NLPagemessageContext.IS_THERE_ANYTHING_ELSE_YOU_WOULD_YOU_LIKE_TO_SHARE_WITH_US")+" ("+k("NLStaticlistContext.OPTIONAL")+
")"}),z);var n=c("\x3cdiv class\x3d'ns-feedback__buttons'\x3e\x3c/div\x3e"),r=c("\x3cbutton/\x3e",{type:"button",disabled:!0,class:"pgBntGDis ns-button ns-feedback__submit-button",text:k("NLButtonContext.SUBMIT")}),B=c("\x3cbutton/\x3e",{type:"button",class:"pgBntG ns-button ns-feedback__cancel-button",text:k("NLButtonContext.CANCEL")});n.append(r,B);var A=c("\x3cdiv class\x3d'ns-feedback__message-panel ns-feedback__message-panel--hidden'\x3e\x3c/div\x3e");A.append(c("\x3ch2/\x3e",{text:k("NLHeadingContext.THANK_YOU")+
"!"}),c("\x3cp\x3e",{text:k("NLPagemessageContext.YOUR_FEEDBACK_IS_GREATLY_APPRECIATED")}));a.append(t,v,y,n,A);var u=0,p=c("body"),b=a.find(".ns-feedback__rating-button");b.click(e);b.keypress(e);B.click(function(){g()});q.click(function(){g()});r.click(function(){c.post(m.backendUrl,{rating:u,text:z.val(),url:window.location.href,isNewUI:!1,title:document.title});t.hide();n.hide();v.hide();y.hide();A.removeClass("ns-feedback__message-panel--hidden");window.setTimeout(function(){g()},m.popupTimeout)});
var d=c("\x3cdiv tabindex\x3d'0' class\x3d'ns-feedback-popup'\x3e\x3c/div\x3e");d.append(a);var h=c("\x3cdiv class\x3d'ns-feedback-popup__curtain'\x3e\x3c/div\x3e");h.click(function(){g()});p.append(h);p.append(d);a={left:window.innerWidth/2-d.outerWidth(!0)/2,top:200};d.css(a);d.focus()}}var c=NS.jQuery,f=c(".ns-header__feedback-button");f.click(q);f.keypress(q)});
//# sourceMappingURL=/assets/reskin_header/947422001.map